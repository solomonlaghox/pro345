/**
	AMBIENCE (Version 2.1.0) Copyright Springtym Communicaion (2019) All Right Reserved Videosocket extention ##tag=<Ambience></Ambience>
	@howtouse	video=new AmbienceVideo(({readable object data}||(null ie. get source from location or hash or tag)||linktovideo)); 
	readable data String||Object {
		src:link
		ad:true||false||auto
		push:00:00:00,00:78:54
		pushtimes:5||auto
		subtitle:link
		infotmation||about:little info
	}
	link sample https://domain.sample/somewhere.html?Ambience=encodeURIComponent({readable data})
	or hash link||change #!?Ambience=encodeURIComponent({JSON data})
	or from tag <Ambience src="/link/video.mp4" subtitle="/link/to/subtitle.srt" about="This is a simple description of a decimal shut" ad="true" push:"00:00:00,00:00:60,00:01:45,02:45" pushtimes="auto" button="{'name':'function'}"></Ambience>
	
	ALL Work on <Ambience></Ambience>

*/
const AMBIENCE = document.Ambience||{};document.Ambience.initiateHashNavigator=0;function DATAproto(a){ var d='unknown';if(a&&'string'===typeof a){ var b='{',c='}',e='[',f=']',i = a.split(''),d=i[0]===b||i[0]===e&&i[((i.length)*1)-1]===c||i[((i.length)*1)-1]===f?'JSONstring':'string';}else if(a&&'[object Object]'==a&&'object'===typeof a){d='Object';}else if(a&&Array.isArray(a)&&'object'===typeof a){d='array';}else if(!NaN&&typeof a=="number"){ d="number"; } return d;};Object.prototype.proto=function(){  return DATAproto(this)};String.prototype.proto=function(){return DATAproto((this||"").trim())};Number.prototype.proto=function(){  return 'number';};function getUrlParameter(a,g,e){ var g=!g?window.location:g,g=g.toString().split("#")[e||0]||"",c=g.toString().split(a+'='),b=!c[1]?null:c[1];if(b!==null)var nV=b.indexOf('&')?b.split('&'):null,rt=!nV?b[1]:nV[0];return !!rt?unescape(rt):""};function getUrlHashParameter(a,g){ return getUrlParameter(a,g,1)};String.prototype.getParameter=function(a,g){return getUrlParameter(a,g||this,0)};Object.prototype.getParameter=function(a,g){return getUrlParameter(a,g||this,0);};Object.prototype.getHashParameter=function(a,g){return getUrlHashParameter(a,g||this)};String.prototype.getHashParameter=function(a,g){return getUrlHashParameter(a,g||this)};var _vr1="center",_vr2="block",_vr3="Video error",_vr4="_AmbienceXButton",_vr5="#000000",_vr6="200px 20px",_vr7="160px 20px",_vr8="125px 20px",_vr9="100px 20px",_vr10="getElementsByTagName",_vr11="Ambience",_vr12="getAttribute",_vr13="clientWidth",_vr14="[object Object]",_vr15="JnXi87R",_vr16="\n\r",_vr17="auto",_vr18="2px 2px 2px #000",_vr19="setAttribute",_vr20="",_vr21="",_vr22="",_vr23="",_vr24="",_vr25="",_vr26="",_vr27="",_vr28="",_vr29="",_vr_="split",_vj_="join";Ambience=AMBIENCE;Ambience.transcend={trn:function(a){a.ta(_vr1).ba(_vr5).ds(_vr2);var q=a[_vr13]*1,v=q>1000?_vr6:(q>600?_vr7:(q>400?_vr8:_vr9));a.pd(v);},object:function(a){if("object"===typeof a&&_vr14==a){ var b=a.tag||a.totag||a.appendto;if("object"===typeof b&&a.src){b.videosocket(a.src);}else console.log(_vr3);}else console.log(_vr3);},tag:function(){var s = document[_vr10](_vr11)[0];if(!!s){var j=document.createElement("div"),a=(s[_vr12]("src")||s[_vr12]("source")),sb=(s[_vr12]("sub")||s[_vr12]("subtitle")||s[_vr12]("subt"))||null,n=(s[_vr12]("name")),o=(s[_vr12]("type")),b=(s[_vr12]("about")||s[_vr12]("info")||s[_vr12]("information")),t=(s[_vr12]("credit")||s[_vr12]("by")||s[_vr12]("videoby")||"Ambience Video"),c=(s[_vr12]("ad")||_vr17),d=(s[_vr12]("pushat")||s[_vr12]("push")||_vr17),e=(s[_vr12]("pushtimes")||_vr17), btns=(s[_vr12]("button")||s[_vr12]("buttons")||null);j.id=(_vr4);if(!!a&& a.indexOf(".")>-1){this.trn(s);this.adsystem({ad:(c=="true"||c==_vr17||c=="allow")?true:false,push:d,times:e,eligibility:{watchsource:a,watchname:n,watchtype:o,watchabout:b,watchcredit:t}});s.outerHTML=s.outerHTML+j.outerHTML;s = document[_vr10](_vr11)[0];this.object({tag:s,src:a,name:n,type:o,about:b,credit:t,containad:c,push:d,pushtimes:e});s.pd("0").ds(_vr2);if(sb)Ambience.transcend.subtitle.load(sb);}}},adsystem:function(resp,readystatus,self){ readystatus=readystatus||0;self=this;	if(readystatus===25||(resp.eligibility.watchname&&resp.eligibility.watchabout)) return false;if(resp.ad==true&&resp.eligibility.watchsource!=""){if(readystatus===0) dex.require({js:adsnetwork()+resp.eligibility.watchname+"&type="+resp.eligibility.watchtype+"&credit="+resp.eligibility.watchcredit+"&main="+resp.eligibility.watchsource+"&about="+resp.eligibility.watchabout});if(document.Ambience.signal==1&&Ambience.transcend.response==_vr14){var res = Ambience.transcend.response;var keys =Object.keys(res);return self.dist(res,keys,resp.push,resp.times,document.Ambience.videoAmbience.duration);}else setTimeout(function(){self.adsystem(resp,readystatus+1)},1500);}},vTime:function(_){return Number(_[_vr_](":")[_vj_](""));},cTime:function(_){ var ar = _[_vr_](","),__=function(v,oo){v=v[_vr_](":");if(v.length==2){oo=((v[0]*1)*60)+(v[1]*1);}else if(v.length==3){oo=((v[0]*1)*3600)+((v[1]*1)*60)+(v[2]*1)}return oo;},r=[];for(var i=0;i<ar.length;i++){if(ar[i].indexOf(":")>-1){r.push(__(ar[i]))}} return r;},dist:function(f,o,n,t,s){var self=this;if(t.toString().toLowerCase()==_vr17){s = Number(s);t=s>5000?9:(s>3600?8:(s>1900?7:(s>1100?6:s>700?5:(s>310?4:(s>120?3:(s>59?2:1))))))}else if(t*1<10){t=t;}else t=3;var c = (s/t),bit = self.cTime(n),sec,prev;for(var i=0;i<t+1;i++){ bit.push(Math.floor(c*i));};document.Ambience.videoAmbience.addEventListener("timeupdate", function(){ prev = document.Ambience.videoAmbience.currentTime;sec = prev.toString()[_vr_](".")[0];if(!!(function(_,__){ for(var i=0;i<_.length;i++){ if(__>_[i]&&__<_[i]+10){return true;}} return false;}(bit,document.Ambience.videoAmbience.currentTime))&&t>-1&&document.Ambience.pend==undefined){self.adsSetUps(f,o);document.Ambience.pend=true;bit=(function(_,__){var o,j=[]; for(o=0;o<_.length;o++){ if(_[o]==Number(sec)||_[o]==Number(sec)+1||_[o]==Number(sec)+2||_[o]==Number(sec)+3){ }else{j.push(_[o]);}} return j; }(bit,sec))};if(!!document.Ambience.subtitle){var vt=tovideotime(document.Ambience.videoAmbience.currentTime);if(vt[_vr_](":").length==2)vt="00:"+vt;if(document.Ambience.subtitleDEADend){if(document.Ambience.subtitleDEADend[_vr_](",")[0]==vt){document.Ambience.subtitlePannel.innerHTML="";document.Ambience.subtitleDEADend=null;}}Ambience.transcend.subtitle.render(vt);}})},adsSetUps:function(_,key){	var key = (document.Ambience.ini.shuffle(key)[0]);if(_[key]==_vr14&&!!_[key].src){document.videoADsocket(_[key].src);if(!!_[key].btt){var hred=____ad_button_(_[key].btt[0],_[key].btt[1],_[key].btt[2]);document.getElementById(_vr4).innerHTML=hred;}}else{setTimeout(function(){document.Ambience.pend=undefined;},20000);}},subtitle:{load:function(_){dex.require({subtitle:_},function(){subtitle=subtitle.replace(/((,[0-9]{3}))/ig,'');document.Ambience.subtitle=subtitle;window["subtitle"]=undefined;Ambience.transcend.subtitle.paneladjust();});},paneladjust:function(){var x=document.getElementById("__00000__");x.po("absolute").bt("40").cl("#FFFFFF").ht(_vr17).pd("4px").ta(_vr1).ds(_vr2).wt("100%").fs(Ambience.transcend.subtitle.fontsize());x.style.textShadow=_vr18;document.Ambience.subtitlePannel=x;},fontsize:function(){var cont=doc.getElementById(doc.Ambience.ini.contentid),cwdt=_vr13,wt=(!!cont?(cont[cwdt]*1<300?"12px":(cont[cwdt]*1<400?"15px":(cont[cwdt]*1<500?"17px":(cont[cwdt]*1<600?"18px":(cont[cwdt]*1<800?"20px":(cont[cwdt]*1<1000?"24px":(cont[cwdt]*1>=1000?"29px":"initial"))))))):_vr17);return wt;},render:function(time,request){var time=time.toString().trim();if(!!document.Ambience.subtitleDEADend){if(document.Ambience.transcend.cTime(time) > document.Ambience.transcend.cTime(document.Ambience.subtitleDEADend))document.Ambience.subtitlePannel.innerHTML="";}var sep = "-->";var subW000000000000 = document.Ambience.subtitle;if(subW000000000000.indexOf(time)>-1){var subt = subW000000000000[_vr_](time),type=subt.length>2?(document.Ambience.subtitlePannel.innerHTML==""?"2":false):"1";if(!!type){var val = (subt[type]);if(val.trim()[_vr_](">")[0]=="--"){var end = val[_vr_]("\n")[_vj_](_vr15)[_vr_]("\r")[_vj_](_vr15)[_vr_](sep)[1][_vr_](_vr15)[0].trim();var val = val[_vr_](sep)[1][_vr_](end)[1].trim()[_vr_](_vr16)[0][_vr_]("\n")[_vj_]("<br>")[_vr_]("\n")[_vj_]("<br>");document.Ambience.subtitlePannel.innerHTML=val;document.Ambience.subtitleDEADend=end;}}}}},initialize:function(a){var b,r,i,n,g;if((a||"").proto()!="Object"){var _=window.location.getParameter("Ambience")||window.location.getHashParameter("Ambience");if("JSONstring"===_.proto()&&JSON.parse(_||"{\"-\":\"-\"}").src){b = JSON.parse(_);}}else if("[object Object]"==a&&(!!(a||{}).src||!!(a||{}).source)){b=a;};r=document[_vr10](_vr11)[0];i=!!r.src?true:false;this.establish=function(b,r,i,n,g){if(!!b){r[_vr19]("src",(b.src||b.source||"getAutsource()"));r[_vr19]("subtitle",(b.sub||b.subtitle||b.subt||""));r[_vr19]("name",(b.name||""));r[_vr19]("information",(b.information||b.info||""));r[_vr19]("type",(b.type||"auto"));r[_vr19]("credit",(b.by||b.credit||b.videoby||"Ambience Video"));r[_vr19]("ad",(b.ad||b.advert||b.advertisement||"auto"));r[_vr19]("push",(b.push||b.pushat||b.push_at||"auto"));r[_vr19]("pushtimes",(b.pushtimes||b.times||"auto"));r[_vr19]("button",(b.buttons||b.button||""));Ambience.transcend.tag();}else return Ambience.transcend.tag();};this.establish(b,r,i,n,g);},play:function(a){return this.initialize(a);}};Ambience.playObject=function(){return Ambience.transcend.play(arguments[0]);};AmbienceVideo = function(a){if(!!a&&"string"===(a||"").proto()&&(a||"").indexOf(".")>-1){a={src:a,ad:"false"};}if(!!a){a.ad=a.ad==false||a.ad==null||a.ad=="no add"||a.ad=="no"||a.ad=="not"||a.ad=="false"?"false":(a.ad=="true"||a.ad=="pushad"||a.ad=="pushads"||a.ad==true?"true":"auto")} Ambience.playObject(a);if(doc.Ambience.videoAmbience){document.Ambience.iovio=this;this.play=function(){ if(doc.Ambience.status===1){if(doc.Ambience.videoAmbience.pause){doc.Ambience.videoAmbience.play();}}else{ setTimeout(function(){document.Ambience.iovio.play()},2500);}};this.pause=function(){ if(doc.Ambience.status===1){ doc.Ambience.videoAmbience.pause();}else{ setTimeout(function(){document.Ambience.iovio.pause()},2500)}};this.volume=function(_){ if(doc.Ambience.status===1){ var s,t,o,r,e,x;t="mute";s=_*1!=NaN?_*1:t;o="__x_XvolumeX__",r=document.getElementById(o),e="%";if(!r) return;s=_;if(s>1&&s!==t){if(s==2||s==3||s==4||s==5||s==6||s==7||s==8||s==9||s==10){s=s/10;}else if(s>1&&s<2){s=s/2;}else{s=s/100;}}else if(s>0&&s<1.1){s=s}else{s=0};x=((s*100)>90?90:(s*100));r.style.width=x+e;doc.Ambience.videoAmbience.volume=(s);}else{ setTimeout(function(){document.Ambience.iovio.volume(_)},2500)}};this.stop=function(){ if(doc.Ambience.status===1){ doc.Ambience.videoAmbience.stop();}else{ setTimeout(function(){document.Ambience.iovio.stop()},2500)}};this.duration=function(){ if(doc.Ambience.status===1){ doc.Ambience.videoAmbience.duration;}else{ setTimeout(function(){document.Ambience.iovio.duration()},2500)}};this.paused=function(){ if(doc.Ambience.status===1){ doc.Ambience.videoAmbience.paused;}else{ setTimeout(function(){document.Ambience.iovio.paused()},2500)}};this.currentTime=doc.Ambience.videoAmbience.currentTime;this.seek=function(_){if(doc.Ambience.status===1){if("number"!=_.proto())return; doc.Ambience.videoAmbience.currentTime=doc.Ambience.videoAmbience.currentTime+_;}else setTimeout(function(){document.Ambience.iovio.seek(_)},2500)};} this.initiateHashNavigator=function(){if(doc.Ambience.status===1){return document.Ambience.initiateHashNavigator=1}else setTimeout(function(){document.Ambience.iovio.initiateHashNavigator()},2500)};this.removeHashNavigator=function(){document.Ambience.initiateHashNavigator=0;};this.controls=null;};window.addEventListener("hashchange",function(){if(document.Ambience.initiateHashNavigator===1)var __ = window.location.getHashParameter("Ambience");if(!!__&&"JSONstring"===(__||"").proto()){Ambience.playObject(JSON.parse(__));}});var isSystem=function(){ var mobileVarition = isMobScreen(800),type=mobile$system(),type=type?type.toString().toLowerCase():'empty';if(!mobileVarition&&type=='desktop'){ return true;}else{ return false;}},mobile$system=function(){var v=(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))?getMobType():'Desktop';return v;},getMobType=function(){var v=window.innerWidth,v=v<620?'Mobile Phone':'Tablet';return v;},isMobScreen = function(){ w=window.innerWidth,g=arguments,a=g[0],a=!a?800:a,a=((a*1)+1),r=w<a?true:false;return r};var c_ar=["createElement","div","span","a","table","100%","relative","middle","#FFFFFF","10px","normal","#333333","inline-block","5px","0 2px 0 0","2px","yellow","innerHTML","outerHTML","14px","500","none","pointer","4px","0","left","2%","sans-serif","1%","table-cell","center","700px","#000000","0 auto","#AAA","#555","#397794","getElementById","setAttribute", "target","blank","Ad","href","nowrap","1px solid #transparent","http://localhost/Bigg/ad-res.php?name="];function ____ad_button_(_,__,___){var a,b,s,o,l,u,t,e,ly,c=c_ar;a=document,b=c[0],s=c[1],o=c[2],l=c[3];u=a[b](s);u.ds(c[4]).wt(c[5]).po(c[6]).va(c[7]).ba(c[8]);e=a[b](o);e.fs(c[9]).fw(c[10]).cl(c[11]).ds(c[12]).pd(c[13]).mg(c[14]).br(c[15]).ba(c[16])[c[17]]=c[41];t=a[b](l);t.fs(c[19]).fw(c[20]).va(c[7]).noselect().bd(c[21]).cs(c[22]).br(c[23]).pl(c[24]).pr(c[24]).ta(c[25]).br(c[15]).wt(c[26]).ff(c[27]).pd(c[13]).ds(c[29])[c[17]]=e[c[18]]+_;t.style.float=c[21];ly=a[b](l);ly[c[38]](c[42],___);ly[c[38]](c[39],c[40]);ly.mg(c[24]).fs(c[19]).fw(c[20]).va(c[7]).noselect().br(c[23]).bd(c[21]).pl(c[24]).pr(c[24]).ta(c[30]).ds(c[29]).wt(c[28]).ff(c[27]).cl(c[8]).pd(c[13])[c[17]]=__;ly.style.textDecoration=c[21];ly.style.float=c[21];ly.style.borderRight=c[44];ly.style.whiteSpace=c[43];if(isSystem()){u.style.maxWidth=c[31];u.mg(c[33]).ba(c[32]);t.ba(c[32]).cl(c[34]);ly.ba(c[32]);document[c[37]]("_AmbienceXButton").ba(c[32])}else{t.ba(c[8]).cl(c[35]);ly.ba(c[36])};u[c[17]]=t[c[18]]+ly[c[18]];return u[c[18]];};function adsnetwork(){return c_ar[45];}